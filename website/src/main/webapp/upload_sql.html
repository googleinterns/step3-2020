<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <script src="sql_script.js"></script>
  </head>
  <body id="body">
    <div id="content">
      <h4>Upload CSV to Cloud SQL Database (deprecated) </h4>
      <form id="uploadFormCSV" action="/sql" method="POST" enctype="multipart/form-data">
        <label for="file">Organization Files:</label><br></br>
        <input type="file" id="file" name="file" required><br></br>
        <input id="submit-csv" type="submit"><br></br>
      </form>
      <br><br>

      <h3>Text Similarity Workflow: </h3>
      <h4>1. Upload CSV to Cloud SQL Database with Category Tree</h4>
      <form id="uploadFormCSV" action="/data" method="POST" enctype="multipart/form-data">
        <label for="file">Organization Files:</label><br></br>
        <input type="file" id="file" name="file" required><br></br>
        <input id="submit-csv" type="submit"><br></br>
      </form>
      <br><br>

      <h4>2. Download Organizations as JSON</h4>
      <form id="download" action="/download" method="GET">
        <label for="submit">Download:</label><br></br>
        <input id="download-json" type="submit">
      </form>
      <br><br>

      <h4>3. Upload k-NN to Cloud SQL Database</h4>
      <form id="uploadProto" action="/update" method="POST" enctype="multipart/form-data">
        <label for="file">k-NN Protos:</label><br></br>
        <input type="file" id="knn-file" name="file" required><br></br>
        <input id="submit-proto" type="submit"><br></br>
      </form>
      <br><br>

      <h4>4. Add rating column</h4>
      <form id="uploadProto" action="/rating" method="POST" enctype="multipart/form-data">
        <input id="submit" type="submit"><br></br>
      </form>
      <br><br>


      <h3>Collaborative Filter Workflow: </h3>
      <p>Prerequisites: org id, knn neighbors, users and ratings</p>
      <p>returns: org id for users</p>
      <h4>1. Download Ratings as JSON</h4>
      <form id="download" action="/download-ratings" method="GET">
        <label for="submit">Download:</label><br></br>
        <input id="download-json" type="submit">
      </form>
      <br><br>

      <h4>2. Upload Recommendations to Cloud SQL Database</h4>
      <form id="uploadProto" action="/update-rec" method="POST" enctype="multipart/form-data">
        <label for="file">Recommendations:</label><br></br>
        <input type="file" id="rec-file" name="file" required><br></br>
        <input id="submit-rec" type="submit"><br></br>
      </form>
      <br><br>

      <h4>Get Organizations in the database</h4>
      <button onclick="getOrgs();">Get All</button><br><br>
      <input type="text" id="keyword">
      <button onclick="searchOrgs();">Keyword Search</button>
      <ul id="existing-organizations"></ul>
    </div>
  </body>
</html>
